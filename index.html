<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>MinuteBots Scouting</title>
        <meta name="viewport" content="width=960, initial-scale=1.0">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="icon" href="assets/minutebots-logo.ico" type="image/x-icon">
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>

    <body>        
        <div id="service-error" class="modal">
            <div class="modal-content">
                <p id="warning-label"></p>
            </div>
        </div>

        <img align="right" class="bad-image" src="assets/minutebots-logo.png" width=325px>

        <h1>MinuteBots Scouting</h1>
        <br>
        <div style="display:inline-block">
            <label>Scouter: </label> <u><label id="scouter">none</label></u> <button class="exclude" id="edit-scouter">Change Scouter</button>
        </div>
        <br>
        <div style="display:inline-block">
        <label>Competition:</label>

        <select id="comp">
            <!-- <option value="eagan">Blue Twilight Week 0 (Eagan)</option> -->
            <option value="grand-forks">Great Northern Regional (Grand Forks)</option>
            <option selected value="granite-city">Granite City Regional (Saint Cloud)</option>
        </select>
        </div>
        <div style="display:inline-block">
            <label>Match:</label>
            <input id="round" style="width:1.7em"></input>
            <button id="plus-button"><b>+</b></button>
            <button id="minus-button"><b>-</b></button>
        </div>

        <br>

        <div style="display:inline-block">
        <label>Team:</label>

        <select id="teams">
            <option selected value="select">Select team ...</option>
            <option value="new">New team ...</option>
        </select>

        <select id="team-default" style="margin-left: 15px;">
            <option selected value="none">No Default</option>
            <option value="Red1">Red 1</option>
            <option value="Red2">Red 2</option>
            <option value="Red3">Red 3</option>
            <option value="Blue1">Blue 1</option>
            <option value="Blue2">Blue 2</option>
            <option value="Blue3">Blue 3</option>
        </select>

        <select id="tourn-level" style="margin-left: 15px;">
            <!-- <option value="none">Select Tournament Level</option> -->
            <option value="Practice">Practice</option>
            <option selected value="Qualification">Qualifications</option>
            <option value="Playoff">Finals</option>
        </select>
        </div>
        <br>
    
        <button id="scan-button" style="margin-top: 10px;">Scan for qrcode</button>
        <button id="download-csv" style="margin-left: 10px;">Download CSV</button>
        <select id="download-opts" class="exclude">
            <option value="3">Download All Matches</option>
            <option selected value="1">Download Strict Matches</option>
            <!-- <option value="2">Download Leftover Matches</option> -->
        </select>
        <hr>

        <button class="collapsible" id="auto">Auto</button>
        <div  class="section">
            <label for="left-zone">Exited alliance starting zone</label>
            <input type="checkbox" id="left-zone" class="input" style="margin-bottom: 10px;"></input>
            <br>

            <table data-sec="auto">
                <tr class="con"> <th></th> </tr>
                <tr class="succeeds"><th>Scored</th> </tr>
                <tr class="fails"><th>Missed</th> </tr>
            </table>
            <br>

            <label for="auto-floor-intake">Could they do floor intake?</label>
            <input class="input" id="auto-floor-intake" type="checkbox">
        </div>

        <br>

        <button class="collapsible" id="teleop">Teleop</button>
        <div class="section">
            <table data-sec="teleop">
                <tr class="con"> <th></th> </tr>
                <tr class="succeeds"> <th>Scored</th> </tr>
                <tr class="fails"><th>Missed</th> </tr>
            </table>
            <br>
            <label for="source-intake">Could they do source intake?</label>
            <input class="input" id="source-intake" type="checkbox">
            <br>
            <label for="teleop-floor-intake">Could they do floor intake?</label>
            <input class="input" id="teleop-floor-intake" type="checkbox">
            <br>
            <label for="climb">Did they climb?</label>
            <input class="input" id="climb" type="checkbox">
            <label for="climb-others">If yes, with others?</label>
            <input class="input" id="climb-others" type="checkbox">
            <br>
            <label for="trap">Could they score trap?</label>
            <input class="input" id="trap" type="checkbox">
        </div>

        <button class="collapsible" id="post-game">Post Game</button>
        <div class="section">
            <label for="defense">Did they do any defense?</label>
            <input class="input" id="defense" type="checkbox">

            <label for="forced-defense">If yes, were they forced to?</label>
            <input class="input" id="forced-defense" type="checkbox">


            <br>
            <label for="break">Did they break or loose a part?</label>
            <input class="input" id="break" type="checkbox">

            <br>
            <label for="disable">Did they disable or stop moving?</label>
            <input class="input" id="disable" type="checkbox">

            <br><br>
            <label>Any extra comments? Keep any comments short, objective, and respectful.</label>
            <br>
            <textarea class="input" id="comments"></textarea>
        </div>

        <div class="center"><button id="generate-qrcode">Generate Qrcode</button></div>

        <div id="qrcode-div" class="modal">
            <div class="modal-content">
                <span class="close-modal">&times;</span>

                <label style="color:black" id="qrcode-team"></label>
                <br>
                <div id="qrcode" class="qrcode" style="text-align: center; display:inline-block;"></div>
            </div>
        </div>
        
        <div id="scanner">
            <div id="cameraStream"></div>
            <button id="close-scanner">Close Scanner</button>
        </div>

        <div class="loading" id="load-block">Loading ...</div>

        <script type="module">
          try {
              const reg = await navigator.serviceWorker.register('app.js')
              await reg.update();
          } catch (e) {
              console.log('service worker registration failed', e);
          }
        </script>
        <script src="scripts/qrcode.js"></script>
        <script src="scripts/script.js" type="module"></script>
    </body>
</html>
