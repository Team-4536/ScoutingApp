<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>MinuteBots Scouting</title>
        <meta name="viewport" content="width=960, initial-scale=1.0">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="icon" href="assets/minutebots-logo.ico" type="image/x-icon">
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>

    <body>
        <img align="right" src="assets/minutebots-logo.png" width=325px>

        <h1>MinuteBots Scouting</h1>
        <br>

        <label>Competition:</label>

        <select id="comp">
            <option value="eagan">Blue Twilight Week 0 (Eagan)</option>
            <option selected value="grand-forks">Great Northern Regional (Grand Forks)</option>
        </select>

        <label>Match:</label>

        <input id="round" style="width:1.7em"></input>
        <button class="plusbutton"><b>+</b></button>
        <button class="minusbutton"><b>-</b></button>

        <br>

        <label>Team:</label>

        <select id="teams">
            <option selected value="select">Select team ...</option>
            <option value="new">New team ...</option>
        </select>
        <br>

        <!-- <select id="export">
            <option value="share">share ...</option>
            <option value="export-url">share current team's url</option>
            <option value="export-data">share current team's data</option>
            <option value="export-csv">share csv</option>
            <option value="export-qrcode">generate qrcode</option>
            <option value="download-csv">download csv</option>
            <option value="download">download all data</option>
        </select> -->

        <button id="share">Share</button>    
        <button onclick="beginScan()">Scan for qrcode</button>

        <!-- <select id="import">
            <option value="open">open ...</option>
            <option value="enter">enter team data</option>
            <option value="enter-csv">enter csv</option>
            <option value="enter-qrcode">scan qrcode</option>
            <option value="enter-encoded">decode encoded data</option>
        </select> -->
        <hr>

        <button class="collapsible" id="auto">Auto</button>
        <div  class="content">
            <label for="left-zone">Left alliance zone</label>
            <input type="checkbox" id="left-zone" class="input" style="margin-bottom: 10px;"></input>
            <br>

            <table data-sec="auto">
                <tr class="con"> <th></th> </tr>
                <tr class="succeeds"><th>Successful</th> </tr>
            </table>
            <br>

            <label for="auto-floor-intake">Could they do floor intake?</label>
            <input id="auto-floor-intake" type="checkbox">
        </div>

        <br>

        <button class="collapsible" id="teleop">Teleop</button>
        <div class="content">
            <table data-sec="teleop">
                <tr class="con"> <th></th> </tr>
                <tr class="succeeds"> <th>Successful</th> </tr>
            </table>
            <br>
            <label for="source-intake">Could they do source intake?</label>
            <input id="source-intake" type="checkbox">
            <br>
            <label for="teleop-floor-intake">Could they do floor intake?</label>
            <input id="teleop-floor-intake" type="checkbox">
            <br>
            <label for="climb">Did they climb?</label>
            <input id="climb" type="checkbox">
            <label for="climb-others">If yes, with others?</label>
            <input id="climb-others" type="checkbox">
            <br>
            <label for="trap">Could they score trap?</label>
            <input id="trap" type="checkbox">
        </div>

        <div id="share-modal" class="modal">
            <div class="modal-content">
                <span id="quit-share" class="close-modal">&times;</span>
                <h2 style="margin: 10px">Share as ...</h2>
    
                <select id="share-as">
                    <option value="select" selected disabled>select share option ...</option>
                    <option value="csv">.csv</option>
                    <option value="json">.json</option>
                    <option value="txt">.txt</option>
                    <option value="url">url</option>
                    <option value="scan">QRCode</option>
                </select>
    
                <div class="option-div" id="csv-div">
                    <br>
                    <br>

                    <label for="csv-top-row" style="color:black">include top row:</label>
                    <input id="csv-top-row" type="checkbox">

                    <br><br>

                    <label style="color:black" id="csv-comp"></label>

                    <br><br>

                    <button id="csv-download-all">download csv of all teams</button>
                    <button id="csv-share-all">share csv of all teams</button>
                </div>
    
                <div class="option-div" id="json-div">
    
                </div>
    
                <div class="option-div" id="txt-div">
    
                </div>
    
                <div class="option-div" id="url-div">
    
                </div>
    
                <div class="option-div" id="scan-div">
                    <br><br>

                    <div id="qrcode-div">
                        <label style="color:black" id="qrcode-team"></label>
                        <label id="error" style="color:#8f0b0b"></label>
                        <br>
                        <div id="qrcode" class="qrcode" style="text-align: center; display: inline-block;"></div>
                        <!-- <button id="qrcode-button">hide qrcode</button> -->
                    </div>
                </div>
            </div>
        </div>
        
        <div id="scanner">
            <div id="cameraStream"></div>
            <button id="close-scanner">Close Scanner</button>
        <select id="cameras"></select>
        </div>

        <script type="module">
          try {
              const reg = await navigator.serviceWorker.register('app.js')
              await reg.update();
          } catch (e) {
              console.log('service worker registration failed', e);
          }
        </script>
        <script src="scripts/qrcode.js"></script>
        <script src="scripts/qrcode-scanner.js"></script>
        <script src="scripts/script.js" type="module"></script>
        <!-- <script src="assets/console/console-import.js"></script>
        <script>document.write(consoleImport)</script> -->
    </body>
</html>
