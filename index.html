<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>MinuteBots Scouting</title>
        <meta name="viewport" content="width=960, initial-scale=1.0">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="icon" href="assets/minutebots-logo.ico" type="image/x-icon">
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>

    <body>
        <img align="right" src="assets/minutebots-logo.png" width=325px>

        <h1>MinuteBots Scouting</h1>
        <br>

        <label>Competition:</label>

        <select id="comp">
            <option value="grand-forks">Great Northern Regional (Grand Forks)</option>
            <option value="eagan">Blue Twilight Week 0 (Eagan)</option>
            <option selected value="grand-forks">Great Northern Regional (Grand Forks)</option>
        </select>

        <label>Round:</label>

        <select id="round">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
        </select>

        <br>

        <label>Team:</label>

        <select id="teams">
            <option selected disabled value="select">Select team ...</option>
            <option value="new">New team ...</option>
        </select>
        <br>

        <!-- <select id="export">
            <option value="share">share ...</option>
            <option value="export-url">share current team's url</option>
            <option value="export-data">share current team's data</option>
            <option value="export-csv">share csv</option>
            <option value="export-qrcode">generate qrcode</option>
            <option value="download-csv">download csv</option>
            <option value="download">download all data</option>
        </select> -->

        <button id="share">Share</button>    

        <select id="import">
            <option value="open">open ...</option>
            <option value="enter">enter team data</option>
            <option value="enter-csv">enter csv</option>
            <option value="enter-qrcode">scan qrcode</option>
            <option value="enter-encoded">decode encoded data</option>
        </select>
        <hr>

        <button class="collapsible" id="auto">Auto</button>
        <div class="content">
            <label for="left-zone">Left alliance zone</label>
            <input type="checkbox" id="left-zone" class="input" style="margin-bottom: 10px;"></input>
            <br>

            <label for="a-stop">A-Stop</label>
            <input type="checkbox" id="a-stop" class="input">

            <label>Reason:</label>
            <input type="text" id="a-reason" class="input" placeholder="" disabled>

            <table data-sec="auto">
                <tr class="con"> <th></th> </tr>
                <tr class="succeeds"><th>Successful</th> </tr>
                <tr class="fails"> <th>Failed</th> </tr>
                <tr class="method"> <th>Method</th> </tr>
            </table>
        </div>

        <button class="collapsible" id="teleop">Teleop</button>
        <div class="content">
            <label for="e-stop">E-Stop</label>
            <input type="checkbox" id="e-stop" class="input">

            <label>Reason:</label>
            <input type="text" id="e-reason" class="input" disabled>
            <br><br>

            <table data-sec="teleop">
                <tr class="con"> <th></th> </tr>
                <tr class="succeeds"> <th>Successful</th> </tr>
                <tr class="fails"> <th>Failed</th> </tr>
                <tr class="method"> <th>Method</th> </tr>
            </table>
        </div>

        <button class="collapsible" id="scoring">Scoring</button>
        <div class="content">
            <div class="score">
                <label for="collisions">Collisions</label>
                <input id="collisions" class="input" type="checkbox">
            </div>
            
            <div class="score">
                <label for="climb">Climb With Others</label>
                <input id="climb" class="input" type="checkbox">
            </div>
            
            <div class="score">
                <label for="score">Total Game Score</label>
                <input id="score" class="input">
            </div>

            <div class="score indented">
                <label for="amp">Total Amp Score</label>
                <input id="amp" class="input">
            </div>

            <div class="score double-indented">
                <label for="amp-auto">Amp Auto Score</label>
                <input id="amp-auto" class="input">
            </div>
            
            <div class="score double-indented">
                <label for="amp-teleop">Amp Teleop Score</label>
                <input id="amp-teleop" class="input">
            </div>

            <div class="score indented">
                <label for="spkr">Total Speaker Score</label>
                <input id="spkr" class="input">
            </div>

            <div class="score double-indented">
                <label for="spkr-auto">Speaker Auto Score</label>
                <input id="spkr-auto" class="input">
            </div>
            
            <div class="score double-indented">
                <label for="spkr-teleop">Speaker Teleop Score</label>
                <input id="spkr-teleop" class="input">
            </div>
            
            <div class="score double-indented">
                <label for="spkr-amp">Speaker Amplified Score</label>
                <input id="spkr-amp" class="input">
            </div>

            <div class="score">
                <label for="coop">Cooperation</label>
                <input id="coop" class="input" type="checkbox">
            </div>
            
            <div class="score">
                <label for="melody">Melody</label>
                <input id="melody" class="input" type="checkbox">
            </div>

            <div class="score"> 
                <label for="ensemble">Ensemble</label>
                <input id="ensemble" class="input" type="checkbox">
            </div>

            <div class="score">
                <label for="win">Win</label>
                <input id="win" class="input" type="checkbox">
            </div>

            <div class="score">
                <label for="tie">Tie</label>
                <input id="tie" class="input" type="checkbox">
            </div>
        </div>

        <div id="share-modal" class="modal">
            <div class="modal-content">
                <span id="quit-share" class="close-modal">&times;</span>
                <h2 style="margin: 10px">Share as ...</h2>
    
                <select id="share-as">
                    <option value="select" selected disabled>select share option ...</option>
                    <option value="csv">.csv</option>
                    <option value="json">.json</option>
                    <option value="txt">.txt</option>
                    <option value="url">url</option>
                    <option value="scan">QRCode</option>
                </select>
    
                <div class="option-div" id="csv-div">
                    <br>
                    <br>

                    <label for="csv-top-row" style="color:black">include top row:</label>
                    <input id="csv-top-row" type="checkbox">

                    <br>

                    <button id="csv-download-all">download csv of all teams</button>
                </div>
    
                <div class="option-div" id="json-div">
    
                </div>
    
                <div class="option-div" id="txt-div">
    
                </div>
    
                <div class="option-div" id="url-div">
    
                </div>
    
                <div class="option-div" id="scan-div">
                    <br><br>

                    <div id="qrcode-div">
                        <div id="qrcode" class="qrcode" style="text-align: center; display: inline-block;"></div>
                        <button id="qrcode-button">hide qrcode</button>

                        <br>

                        <select id="qrcode-comp">
                            <option disabled>no comp selected</option>
                        </select>

                        <select id="qrcode-team">
                            <option disabled>no team selected</option>
                        </select>

                        <select id="qrcode-round">
                            <option disabled>no round selected</option>
                        </select>
                    </div>


                </div>
            </div>
        </div>
        
        <div id="scanner">
            <div id="cameraStream"></div>
            <button id="close-scanner">Close Scanner</button>
        </div>

        <script type="module">
          try {
              const reg = await navigator.serviceWorker.register('app.js')
              await reg.update();
          } catch (e) {
              console.log('service worker registration failed', e);
          }
        </script>
        <script src="scripts/qrcode.js"></script>
        <script src="scripts/qrcode-scanner.js"></script>
        <script src="scripts/script.js" type="module"></script>
        <script src="assets/console/console-import.js"></script>
        <script>document.write(consoleImport)</script>
    </body>
</html>
